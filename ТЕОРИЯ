На данный момент Prometheus в связке с Grafana являются самыми популярными инструментами для настройки современного мониторинга.
Такая популярность достигается за счет простоты настройки и весьма понятной архитектуры решения.
Прометеус позволяет мониторить почти что угодно.

Что же такое этот Prometheus?
Прометеус- БД временных рядов, которая собирает метрики с заданных конечных систем.
Прометеус скрейпит метрики через HTTP вызовы к КС из файла конфигурации.

Существуют несколько способов передачи метрик прометеусу, все они сводятся к тому, что прометеусу нужно передоставить метрику в читаемом ему
формате по указанному URL
1.инструментирование приложения- приложение само будет размещать метрики в нужное место, а прометей будет из оттуда забирать
2.Использование pushgateway-выглядит как некая прослойка, в которую пушатся метрики,в ней они выкладываются, а прометеус их скрейпит
И наконец самый популярный удобный способ:
3.Использование готовых экспортеров: почти под каждое приложение существуют готовые экспортеры 
Для Linux- node_exporter
    PostgreSQL=postgresql_exporter
    docker_exporter
    И другие 

Прометеус активно сканирует и скрейпит метрики в отличие от InfluxDB, в который нужно слать метрики 

Экосистема прометеус.
Alertmanager отправка оповещений в соот-вии с правилами в conf 
Визуализация данных. В прометеусе мы сами можем выстроить график, но даже в документации рекомендуют использовать Grafana
Динамическое обнаружение КС. Удобно при работе с контейнерами

Модель данных Ключ- Значение 

cpu_usage     14.04
  key          value

Также имеются ярлыки(labels) для какой либо метадаты, принадлежности этой метрики

cpu_usage {core="1", ip="128.0.0.1"}  14.04


Типы метрик
1.Счетчик(например для подсчета количества ошибок )
Только увеличивается либо обнуляется
2.Измеритель (кол-во оперативной памяти)
Измеритель не показывает развитие метрики за t. Используя измеритель, можно упустить нерегулярное развитие метрики со временем.А у счетчика
каждое значение сагрегировано. 
3.Гистрограмма(суммма измерений и их кол-во)
4.Сводки- расширенные гистограммы 

из всех этих метрик, импользуя promQL мы можем выстраивать нужные нам метрики 









